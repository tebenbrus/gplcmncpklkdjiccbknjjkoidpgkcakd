"use strict";(self.webpackChunkbrowser_extension=self.webpackChunkbrowser_extension||[]).push([["common"],{1235:(U,f,s)=>{s.r(f),s.d(f,{ExtensionSubscriptionRequirementModesModule:()=>d});var C,n,l,x=s(8267),b=s(5658),y=s(7072),h=s(9252),u=s(8806),M=s(8094),m=s(7245);(n=C||(C={}))[n.UpdatePaymentMethod=0]="UpdatePaymentMethod",n[n.Processing=1]="Processing",n[n.GettingCredits=2]="GettingCredits",n[n.Completed=3]="Completed",n[n.CreatingRepository=4]="CreatingRepository",n[n.UpdatingRepository=5]="UpdatingRepository",function(n){n[n.AIDetector=1]="AIDetector",n[n.PlagiarismChecker=2]="PlagiarismChecker",n[n.Bundled=3]="Bundled"}(l||(l={}));var P=s(2555),a=s(6870),e=s(4001),O=s(7456),v=s(5936),q=s(6024),_=s(6048);function R(n,t){1&n&&e._UZ(0,"img",15)}function T(n,t){if(1&n){const i=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(i);const r=e.oxw(2);return r.isOrganizationMember?r.sendRequestForCreditsToOrganizationOwnerAsync():r.subscriptionRequirementUpgradeAsync()}),e.YNc(1,R,1,0,"img",13),e.TgZ(2,"span",14),e._uU(3),e.qZA(),e.qZA()}if(2&n){const i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!i.isOrganizationMember),e.xp6(2),e.Oqu(i.requirementBtnText)}}function A(n,t){1&n&&(e.TgZ(0,"div",16),e._UZ(1,"img",17),e.TgZ(2,"span"),e._uU(3,"Your request was sent"),e.qZA(),e.qZA())}function I(n,t){1&n&&(e.TgZ(0,"span",18),e._uU(1,"Cancel anytime"),e.qZA())}function Z(n,t){if(1&n&&(e.TgZ(0,"div",4),e.TgZ(1,"div",5),e.TgZ(2,"h2",6),e._uU(3),e.qZA(),e.TgZ(4,"span",7),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"div",8),e.YNc(7,T,4,2,"button",9),e.YNc(8,A,4,0,"div",10),e.YNc(9,I,2,0,"span",11),e.qZA(),e.qZA()),2&n){const i=e.oxw();e.xp6(3),e.Oqu(i.requirementTitle),e.xp6(2),e.Oqu(i.requirementDescription),e.xp6(2),e.Q6J("ngIf",!i.showRequestSentMessage),e.xp6(1),e.Q6J("ngIf",i.showRequestSentMessage),e.xp6(1),e.Q6J("ngIf",i.hasCancelMessage)}}function B(n,t){1&n&&(e.TgZ(0,"div",19),e._UZ(1,"cls-spinner",20),e.qZA())}let c=class{constructor(t,i,o){this._paymentService=t,this._activatedRouteSnapshot=i,this._authService=o,this.requirementTitle="",this.requirementDescription="",this.requirementBtnText="",this.hasCancelMessage=!1,this.isOrganizationMember=!1,this.isLoading=!1,this.isRedirecting=!1,this.showRequestSentMessage=!1}ngOnInit(){this._initAsync()}_initAsync(){var t,i,o;return(0,u.mG)(this,void 0,void 0,function*(){this.isLoading=!0,this.user=this._authService.user,this.plans=yield this._paymentService.getExtensionProductsPlansAsync(),this.basicBundlePlan=this.plans.products.find(r=>r.platformProductType==l.Bundled).plans[0].monthly,this.subscriptionRequirmentType=null===(o=null===(i=null===(t=this._activatedRouteSnapshot)||void 0===t?void 0:t.snapshot)||void 0===i?void 0:i.queryParams)||void 0===o?void 0:o.reason,this._paymentService.userBalance$.pipe((0,M.t)(this)).subscribe(r=>(0,u.mG)(this,void 0,void 0,function*(){if(this.userBalance=r,this.isOrganizationMember=this.userBalance.accountType==m.Q.SharedAccount,this.isOrganizationMember)this.requirementTitle="You don\u2019t have enough credits to complete this scan.",this.requirementDescription="Ask your admin to provide you with more credits.",this.requirementBtnText="Send request",this.hasCancelMessage=!1;else switch(this.subscriptionRequirmentType){case a.F.RateLimit:this.requirementTitle="You\u2019ve reached your daily limit.",this.requirementDescription="Upgrade today for additional access.",this.requirementBtnText="Upgrade",this.hasCancelMessage=!1;break;case a.F.OutOfCredits:this.requirementTitle="More credits needed to complete scan.",this.requirementDescription="Refill your credits by clicking below. Please note, this will restart your billing cycle.",this.requirementBtnText="Purchase credits",this.hasCancelMessage=!0;break;case a.F.AiSubscriptionMissing:this.requirementTitle="Upgrade to AI Content Detector",this.requirementDescription="Add our award-winning AI Content Detector to your subscription today.",this.requirementBtnText="Upgrade Plan",this.hasCancelMessage=!0}this.userBalance.accountType==m.Q.Subscription&&(this.userSubscription=yield this._paymentService.getExtensionSubscriptionStateAsync()),this.isLoading=!1}))})}subscriptionRequirementUpgradeAsync(){return(0,u.mG)(this,void 0,void 0,function*(){if(this.subscriptionRequirmentType==a.F.AiSubscriptionMissing){let t=this.userSubscription.currentPlan.creditsPackage,i=12==this.userSubscription.currentPlan.interval.months,o=this.plans.products.find(p=>p.platformProductType==l.Bundled).plans.find(p=>i?p.yearly.credits==t:p.monthly.credits==t),r=i?o.yearly:o.monthly;this.navigateToPayment(r.planId,l.Bundled)}else if(this.subscriptionRequirmentType==a.F.RateLimit||this.subscriptionRequirmentType==a.F.OutOfCredits&&this.userBalance.accountType==m.Q.Prepaid)this.navigateToPayment(this.basicBundlePlan.planId,l.Bundled);else if(this.subscriptionRequirmentType==a.F.OutOfCredits&&this.userBalance.accountType==m.Q.Subscription){let t=this.userSubscription.currentPlan;this.navigateToPayment(t.planId,t.platformProductType)}})}navigateToPayment(t,i){return(0,u.mG)(this,void 0,void 0,function*(){const o=decodeURIComponent(`${P.N.mainWebsite}/ai-content-detector-extension-thank-you`);let r=`${P.N.dashboardWebsite}/payment/checkout?planId=${t}&ePlatformProductType=${i}&redirectUrl=${o}`;chrome.tabs.create({url:r})})}sendRequestForCreditsToOrganizationOwnerAsync(){return(0,u.mG)(this,void 0,void 0,function*(){this.showRequestSentMessage=!0,yield this._paymentService.sendCreditsRequestToOwnerAsync()})}};c.\u0275fac=function(t){return new(t||c)(e.Y36(O.v),e.Y36(h.gz),e.Y36(v.l))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-extension-subscription-requirement-modes"]],decls:4,vars:4,consts:[[1,"main-container"],[3,"user","isOrganizationMember"],["class","limit-reached-message-container",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"limit-reached-message-container"],[1,"message-content"],["subscriptionRequirementTitle","",1,"title"],["subscriptionRequirementDescription","",1,"description"],[1,"message-actions"],["class","upgrade-btn","ripple","",3,"click",4,"ngIf"],["class","request-sent-message",4,"ngIf"],["class","cancel-msg",4,"ngIf"],["ripple","",1,"upgrade-btn",3,"click"],["src","assets/icons/crown-icon.svg",4,"ngIf"],["submitBtnText","",1,"submit-btn-text"],["src","assets/icons/crown-icon.svg"],[1,"request-sent-message"],["src","assets/icons/check-mark-icon-grey.svg"],[1,"cancel-msg"],[1,"loading-container"],["width","100px"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-ext-header",1),e.YNc(2,Z,10,5,"div",2),e.YNc(3,B,2,0,"div",3),e.qZA()),2&t&&(e.xp6(1),e.Q6J("user",i.user)("isOrganizationMember",i.isOrganizationMember),e.xp6(1),e.Q6J("ngIf",!i.isLoading),e.xp6(1),e.Q6J("ngIf",i.isLoading))},directives:[q.T,x.O5,_.O],styles:[".main-container[_ngcontent-%COMP%]{padding:16px;box-sizing:border-box;width:560px;display:flex;flex-direction:column;grid-gap:8px;gap:8px}.main-container[_ngcontent-%COMP%]   app-ext-header[_ngcontent-%COMP%]{padding-bottom:8px}.main-container[_ngcontent-%COMP%]   .limit-reached-message-container[_ngcontent-%COMP%]{display:flex;min-height:268px;padding:16px 0;flex-direction:column;align-items:center;justify-content:center;box-sizing:border-box;grid-gap:16px;gap:16px}.main-container[_ngcontent-%COMP%]   .limit-reached-message-container[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;grid-gap:4px;gap:4px}.main-container[_ngcontent-%COMP%]   .limit-reached-message-container[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#0b163e;font-size:20px;font-weight:700;line-height:normal;margin:0}.main-container[_ngcontent-%COMP%]   .limit-reached-message-container[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#0b163e;text-align:center;font-size:16px;font-weight:500;line-height:normal}.main-container[_ngcontent-%COMP%]   .limit-reached-message-container[_ngcontent-%COMP%]   .message-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;grid-gap:2px;gap:2px}.main-container[_ngcontent-%COMP%]   .limit-reached-message-container[_ngcontent-%COMP%]   .message-actions[_ngcontent-%COMP%]   .upgrade-btn[_ngcontent-%COMP%]{background-color:#3f9af5;border:none;padding:4px 24px 4px 16px;border-radius:24px 0 24px 24px;grid-gap:8px;gap:8px;height:32px;display:flex;flex-direction:row;align-items:center;justify-content:center;cursor:pointer}.main-container[_ngcontent-%COMP%]   .limit-reached-message-container[_ngcontent-%COMP%]   .message-actions[_ngcontent-%COMP%]   .upgrade-btn[_ngcontent-%COMP%]   .submit-btn-text[_ngcontent-%COMP%]{color:#fff;font-size:18px;font-family:sans-serif;font-weight:700}.main-container[_ngcontent-%COMP%]   .limit-reached-message-container[_ngcontent-%COMP%]   .message-actions[_ngcontent-%COMP%]   .request-sent-message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:8px;gap:8px}.main-container[_ngcontent-%COMP%]   .limit-reached-message-container[_ngcontent-%COMP%]   .message-actions[_ngcontent-%COMP%]   .request-sent-message[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px;height:18px}.main-container[_ngcontent-%COMP%]   .limit-reached-message-container[_ngcontent-%COMP%]   .message-actions[_ngcontent-%COMP%]   .request-sent-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#9da9bf;text-align:center;font-size:14px;font-weight:500;line-height:normal}.main-container[_ngcontent-%COMP%]   .limit-reached-message-container[_ngcontent-%COMP%]   .message-actions[_ngcontent-%COMP%]   .cancel-msg[_ngcontent-%COMP%]{color:#000;font-size:12px;font-weight:700;line-height:normal}.main-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;min-height:268px}"]}),c=(0,u.gn)([(0,M.c)()],c);const S=[{path:"",component:c}];class g{}g.\u0275fac=function(t){return new(t||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[[h.Bz.forChild(S)],h.Bz]});class d{}d.\u0275fac=function(t){return new(t||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[[x.ez,g,y.X,b.F]]})}}]);
//# sourceMappingURL=common.js.map